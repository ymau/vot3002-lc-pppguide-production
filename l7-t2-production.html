<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>L7 - (Production Project) Q&amp;A Handling Skills Practice</title>
    

  </head>
    
  <body>
  <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>L7 - (Production Project) Q&A Handling Skills Practice</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
      background: linear-gradient(135deg, #06b6d4 0%, #0891b2 50%, #fb923c 100%);
      min-height: 100vh;
      padding: 1rem;
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
    body::-webkit-scrollbar { display: none; }

    .container {
      max-width: 1100px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.98);
      border-radius: 20px;
      padding: 1.5rem;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      animation: fadeIn 0.5s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    header {
  background: linear-gradient(120deg, #640D5F 0%, #0891b2 50%, #8B5DFF 100%);
  border-radius: 15px;
  padding: 2rem 1.5rem;
  margin-bottom: 1.5rem;
  position: relative;
  color: white;
  text-align: center;
}

.lang-toggle {
  position: absolute;
  top: 1rem;
  right: 1rem;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0.15));
  backdrop-filter: blur(10px);
  border: 2px solid rgba(255, 255, 255, 0.4);
  border-radius: 20px;
  padding: 0.5rem 1rem;
  cursor: pointer;
  transition: all 0.3s ease;
  color: white;
  font-weight: 600;
  font-size: 0.9rem;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  z-index: 10;
}

    .lang-toggle:hover {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.25));
      transform: scale(1.05);
    }

    h1 {
      font-size: 1.8rem;
      margin-bottom: 0.5rem;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);
    }

    .subtitle {
      font-size: 1rem;
      opacity: 0.95;
      font-weight: 400;
    }

    .progress-dots {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin: 1.5rem 0;
    }

    .dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: #cbd5e1;
      transition: all 0.3s ease;
    }

    .dot.active {
      background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
      transform: scale(1.3);
      box-shadow: 0 0 15px rgba(6, 182, 212, 0.6);
    }

    .dot.completed {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      box-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
    }

    .activity {
      display: none;
      animation: slideIn 0.4s ease;
    }

    .activity.active {
      display: block;
    }

    @keyframes slideIn {
      from { opacity: 0; transform: translateX(30px); }
      to { opacity: 1; transform: translateX(0); }
    }

    .activity-title {
      background: linear-gradient(135deg, #15B392 0%, #D2FF72 100%);
      color: white;
      padding: 1rem 1.5rem;
      border-radius: 12px;
      font-size: 1.3rem;
      font-weight: 700;
      margin-bottom: 1.5rem;
      box-shadow: 0 4px 15px rgba(6, 182, 212, 0.3);
    }

    .tips-box, .instruction-box, .explanation-box {
      background: linear-gradient(135deg, #f0fdfa 0%, #ccfbf1 100%);
      border-left: 5px solid #06b6d4;
      padding: 1.25rem;
      border-radius: 12px;
      margin-bottom: 1.5rem;
      box-shadow: 0 3px 12px rgba(6, 182, 212, 0.15);
    }

    .explanation-box h3, .tips-box h3, .instruction-box h3 {
      color: #0891b2;
      font-size: 1.1rem;
      margin-bottom: 0.75rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .explanation-box p, .tips-box p, .instruction-box p {
      color: #0f766e;
      line-height: 1.7;
      margin-bottom: 0.5rem;
    }
.explanation-box ul {
  list-style: disc;
  padding-left: 1.5rem;
  margin-bottom: 1rem;
  color: #0f766e;
}

.explanation-box ul li {
  margin-bottom: 0.35rem;
  line-height: 1.6;
}

.explanation-box p strong {
  font-size: 1rem;
  color: #0891b2;
  margin-top: 0.75rem;
  display: inline-block;
}
.question-type-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 1rem;
  margin-top: 1rem;
}

.type-card {
  background: white;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 3px 10px rgba(6, 182, 212, 0.15);
  transition: all 0.3s ease;
}

.type-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 20px rgba(6, 182, 212, 0.25);
}

.type-header {
  padding: 0.75rem 1rem;
  font-weight: 700;
  font-size: 0.95rem;
  color: white;
  text-align: center;
}

.type-header.clarification {
 background: linear-gradient(90deg,#6a5cf6,#6a84ff,#54cfff,#3be0c4);
}

.type-header.challenge {
  background:linear-gradient(90deg,#f97373,#f6ad55,#a3e635)

}

.type-header.extension {
  background: linear-gradient(135deg, #4caf50 0%, #2fb6a0 50%, #2196f3 100%);
}

.type-header.practical {
  background: linear-gradient(135deg, #2196f3 0%, #6a7fff 50%, #9c27b0 100%);
}

.type-card ul {
  list-style: none;
  padding: 1rem;
  margin: 0;
}

.type-card ul li {
  position: relative;
  padding-left: 1.5rem;
  margin-bottom: 0.5rem;
  line-height: 1.5;
  color: #334155;
  font-size: 0.88rem;
}

.type-card ul li:before {
  content: "âœ“";
  position: absolute;
  left: 0;
  color: #06b6d4;
  font-weight: 700;
  font-size: 1rem;
}

.type-card ul li:last-child {
  margin-bottom: 0;
}

@media (max-width: 768px) {
  .question-type-grid {
    grid-template-columns: 1fr;
  }
}

    .tips-box ul {
      list-style: none;
      padding: 0;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 0.75rem;
      margin-top: 1rem;
    }

    .tips-box li {
      background: white;
      padding: 0.75rem;
      border-radius: 8px;
      color: #0369a1;
      font-size: 0.9rem;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      transition: all 0.3s ease;
    }

    .tips-box li:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
    }

    .tips-box strong {
      color: #0891b2;
      display: block;
      margin-bottom: 0.25rem;
    }

    /* Activity 1: Matching - ALWAYS 2 COLUMNS */
    .matching-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .matching-column h4 {
      color: #0891b2;
      margin-bottom: 1rem;
      font-size: 1.1rem;
    }

    .question-item, .category-item {
      background: white;
      border: 2px solid #e2e8f0;
      border-radius: 10px;
      padding: 0.9rem;
      margin-bottom: 0.75rem;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 0.88rem;
      line-height: 1.5;
    }

    .question-item:hover, .category-item:hover {
      border-color: #06b6d4;
      transform: translateX(5px);
      box-shadow: 0 4px 15px rgba(6, 182, 212, 0.2);
    }

    .question-item.selected {
      background: linear-gradient(135deg, #4338ca 0%, #6366f1 40%, #22c1c3 100%);
      color: white;
      border-color: #06b6d4;
      transform: scale(1.05);
    }

    .category-item.matched {
      background: linear-gradient(135deg, #A0D5E0 0%, #A7E399 100%);
      color: green;
      border-color: #10b981;
    }

    .category-item .matched-question {
      margin-top: 0.5rem;
      padding-top: 0.5rem;
      border-top: 1px solid rgba(255, 255, 255, 0.3);
      font-size: 0.85rem;
    }

    /* Activity 2: Fill in the blanks */
    .sentence-list {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .sentence-item {
      background: white;
      border: 2px solid #e2e8f0;
      border-radius: 10px;
      padding: 1rem;
      font-size: 0.9rem;
      line-height: 1.8;
      transition: all 0.3s ease;
    }

    .sentence-item.correct {
      border-color: #10b981;
      background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
    }

    .sentence-item.wrong {
      border-color: #ef4444;
      background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
    }

    .blank-select {
      display: inline-block;
      min-width: 180px;
      padding: 0.4rem 0.8rem;
      margin: 0 0.3rem;
      background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%);
      border: 2px solid #06b6d4;
      border-radius: 8px;
      font-size: 0.85rem;
      font-weight: 600;
      color: #0c4a6e;
      cursor: pointer;
      transition: all 0.3s ease;
      vertical-align: middle;
    }

    .blank-select:focus {
      outline: none;
      border-color: #0891b2;
      transform: scale(1.03);
    }

    .blank-select.correct {
      background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
      border-color: #10b981;
    }

    .blank-select.wrong {
      background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
      border-color: #ef4444;
    }
.hint-box {
  background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
  border: 2px solid #f59e0b;
  border-radius: 8px;
  padding: 0.6rem 0.8rem;
  margin-bottom: 0.75rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.85rem;
  color: #92400e;
  box-shadow: 0 2px 8px rgba(245, 158, 11, 0.15);
}

.hint-icon {
  font-size: 1.1rem;
  flex-shrink: 0;
}

.hint-text {
  line-height: 1.5;
  font-weight: 500;
}

.sentence-item:hover .hint-box {
  background: linear-gradient(135deg, #fde68a 0%, #fcd34d 100%);
  transform: scale(1.02);
  transition: all 0.3s ease;
}

    /* Activity 3: Ordering */
    .ordering-container {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .order-item {
      background: white;
      border: 2px solid #e2e8f0;
      border-radius: 10px;
      padding: 1rem 1rem 1rem 3rem;
      font-size: 0.9rem;
      cursor: move;
      transition: all 0.3s ease;
      position: relative;
      user-select: none;
    }

    .order-item:hover {
      border-color: #06b6d4;
      box-shadow: 0 4px 15px rgba(6, 182, 212, 0.2);
    }

    .order-item.dragging {
      opacity: 0.5;
      transform: scale(1.05);
      box-shadow: 0 8px 25px rgba(6, 182, 212, 0.4);
    }

    .order-item .drag-handle {
      position: absolute;
      left: 1rem;
      top: 50%;
      transform: translateY(-50%);
      font-size: 1.2rem;
      color: #94a3b8;
      cursor: grab;
    }

    .order-item .order-number {
      position: absolute;
      right: 1rem;
      top: 50%;
      transform: translateY(-50%);
      background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
      color: white;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 0.9rem;
    }

    .order-item.correct {
      border-color: #10b981;
      background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
    }

    .order-item.correct .order-number {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    }

    /* Activity 4: Multiple Choice */
    .quiz-container {
      margin-bottom: 1.5rem;
    }

    .quiz-question {
      background: white;
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
    }

    .quiz-question h4 {
      color: #0891b2;
      margin-bottom: 1rem;
      font-size: 1.05rem;
    }

    .quiz-options {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .quiz-option {
      background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
      border: 2px solid #e2e8f0;
      border-radius: 10px;
      padding: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .quiz-option:hover {
      border-color: #06b6d4;
      transform: translateX(5px);
      box-shadow: 0 4px 12px rgba(6, 182, 212, 0.15);
    }

    .quiz-option.selected {
      background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
      border-color: #06b6d4;
    }

    .quiz-option.correct {
      background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
      border-color: #10b981;
      cursor: default;
    }

    .quiz-option.wrong {
      background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
      border-color: #ef4444;
      cursor: default;
    }

    .tts-btn {
      background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
      color: white;
      border: none;
      border-radius: 50%;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 0.9rem;
      transition: all 0.3s ease;
      flex-shrink: 0;
    }

    .tts-btn:hover {
      background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
      transform: scale(1.1);
    }

    .tts-btn.speaking {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      animation: pulse 1s infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.15); }
    }

    /* Activity 5: Checklist */
    .checklist {
      background: white;
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
    }

    .checklist-item {
      display: flex;
      align-items: flex-start;
      gap: 1rem;
      padding: 1rem;
      margin-bottom: 0.75rem;
      border-radius: 8px;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .checklist-item:hover {
      background: linear-gradient(135deg, #f0fdfa 0%, #ccfbf1 100%);
    }

    .checklist-item input[type="checkbox"] {
      width: 24px;
      height: 24px;
      cursor: pointer;
      accent-color: #06b6d4;
    }

    .checklist-item.checked {
      background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
    }

    .checklist-item label {
      cursor: pointer;
      line-height: 1.6;
      color: #334155;
    }

    /* Navigation buttons */
    .nav-buttons {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 2rem;
      padding-top: 1.5rem;
      border-top: 2px solid #e2e8f0;
    }

    .btn {
      padding: 0.75rem 2rem;
      border: none;
      border-radius: 25px;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
    }

    .btn-primary {
      background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
      color: white;
    }

    .btn-primary:hover {
      background: linear-gradient(135deg, #0891b2 0%, #0e7490 100%);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(6, 182, 212, 0.4);
    }

    .btn-secondary {
      background: linear-gradient(135deg, #f472b6 0%, #ec4899 100%);
      color: white;
    }

    .btn-secondary:hover {
      background: linear-gradient(135deg, #ec4899 0%, #db2777 100%);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(244, 114, 182, 0.4);
    }

    .btn:disabled {
      background: linear-gradient(135deg, #cbd5e1 0%, #94a3b8 100%);
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .btn-check {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      color: white;
    }

    .btn-check:hover {
      background: linear-gradient(135deg, #059669 0%, #047857 100%);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
    }

    .feedback {
      text-align: center;
      padding: 1rem;
      border-radius: 10px;
      font-weight: 600;
      margin: 1rem 0;
      animation: slideIn 0.3s ease;
    }

    .feedback.success {
      background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
      color: #065f46;
      border: 2px solid #10b981;
    }

    .feedback.error {
      background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
      color: #991b1b;
      border: 2px solid #ef4444;
    }

    /* Completion Modal */
    .completion-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.75);
      z-index: 1000;
      padding: 1rem;
      align-items: center;
      justify-content: center;
      animation: fadeIn 0.3s ease;
    }

    .completion-modal.active {
      display: flex;
    }

    .completion-content {
      background: white;
      border-radius: 20px;
      max-width: 600px;
      width: 100%;
      padding: 3rem 2rem;
      text-align: center;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
      animation: scaleIn 0.4s ease;
    }

    @keyframes scaleIn {
      from { transform: scale(0.8); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    .completion-content h2 {
      font-size: 2rem;
      color: #0891b2;
      margin-bottom: 1rem;
    }

    .completion-content p {
      font-size: 1.1rem;
      color: #64748b;
      margin-bottom: 2rem;
      line-height: 1.6;
    }

    .stars {
      font-size: 3rem;
      margin: 1rem 0;
      animation: starBounce 0.6s ease;
    }

    @keyframes starBounce {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.2); }
    }

    /* Language Toggle - FIXED */
    body:not(.zh) .lang-zh { display: none; }
    body.zh .lang-en { display: none; }
    body:not(.zh) .lang-en { display: inline; }
    body.zh .lang-zh { display: inline; }

    @media (max-width: 768px) {
      .container { padding: 1rem; }
      header { padding: 1.5rem 1rem; 
      padding-right: 6rem;
  }
      h1 { font-size: 1.4rem; }
      .subtitle { font-size: 0.9rem; }

      .lang-toggle {
    top: 0.75rem;
    right: 0.75rem;
    padding: 0.4rem 0.8rem;
    font-size: 0.85rem;
  }
      .matching-container {
        gap: 0.75rem;
      }

      .question-item, .category-item {
        padding: 0.75rem;
        font-size: 0.82rem;
        line-height: 1.4;
      }

      .matching-column h4 {
        font-size: 0.95rem;
        margin-bottom: 0.75rem;
      }

      .tips-box ul {
        grid-template-columns: 1fr;
      }

      .nav-buttons {
        flex-direction: column;
      }

      .btn {
        width: 100%;
      }

      .blank-select {
        min-width: 150px;
        font-size: 0.8rem;
      }
     }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
</head>
<body>
  <div class="container">
    <header>
      <button class="lang-toggle" id="langToggle">ä¸­æ–‡</button>
      <h1>
        <span class="lang-en">Q&A Handling Skills Practice</span>
        <span class="lang-zh">å•ç­”è™•ç†æŠ€å·§ç·´ç¿’</span>
      </h1>
      <p class="subtitle">
        <span class="lang-en">Master the Art of Answering Questions After Your Presentation<br><strong>(Production Project)</strong></span>
        <span class="lang-zh">æŒæ¡ç°¡å ±å¾Œå›ç­”å•é¡Œçš„æŠ€å·§<br><strong>(è£½ä½œè¨ˆåŠƒ)</strong></span>
      </p>
    </header>

    <div class="progress-dots" id="progressDots"></div>

    <!-- Activity 1: Matching Question Types -->
    <div class="activity active" id="activity1">
      <div class="activity-title">
        <span class="lang-en">Activity 1: <br>Recognising Question Types</span>
        <span class="lang-zh">æ´»å‹•ä¸€ï¼šè­˜åˆ¥å•é¡Œé¡å‹</span>
      </div>

     <div class="explanation-box">
  <h3>
    <span>ğŸ’¡</span>
    <span class="lang-en">Understanding Different Question Types</span>
    <span class="lang-zh">äº†è§£ä¸åŒçš„å•é¡Œé¡å‹</span>
  </h3>

  <div class="question-type-grid">
    <div class="type-card">
      <div class="type-header clarification">
        <span class="lang-en">Clarification</span>
        <span class="lang-zh">æ¾„æ¸…å•é¡Œ</span>
      </div>
      <ul class="lang-en">
        <li>Questions asking you to explain something again</li>
        <li>Requests for more details about what you already said</li>
      </ul>
      <ul class="lang-zh">
        <li>è¦æ±‚ä½ å†æ¬¡è§£é‡‹æŸäº›å…§å®¹çš„å•é¡Œ</li>
        <li>è¦æ±‚æä¾›æ›´å¤šä½ å·²èªªéå…§å®¹çš„ç´°ç¯€</li>
      </ul>
    </div>

    <div class="type-card">
      <div class="type-header challenge">
        <span class="lang-en">Challenge</span>
        <span class="lang-zh">æŒ‘æˆ°å•é¡Œ</span>
      </div>
      <ul class="lang-en">
        <li>Questions that question your assumptions</li>
        <li>Point out potential problems</li>
        <li>Suggest alternative approaches</li>
      </ul>
      <ul class="lang-zh">
        <li>è³ªç–‘ä½ çš„å‡è¨­çš„å•é¡Œ</li>
        <li>æŒ‡å‡ºæ½›åœ¨å•é¡Œ</li>
        <li>å»ºè­°å…¶ä»–æ–¹æ³•</li>
      </ul>
    </div>

    <div class="type-card">
      <div class="type-header extension">
        <span class="lang-en">Extension</span>
        <span class="lang-zh">å»¶ä¼¸å•é¡Œ</span>
      </div>
      <ul class="lang-en">
        <li>Questions about future plans and next steps</li>
        <li>How your project might develop further</li>
      </ul>
      <ul class="lang-zh">
        <li>è©¢å•æœªä¾†è¨ˆåŠƒå’Œä¸‹ä¸€æ­¥çš„å•é¡Œ</li>
        <li>å°ˆé¡Œå¦‚ä½•é€²ä¸€æ­¥ç™¼å±•</li>
      </ul>
    </div>

    <div class="type-card">
      <div class="type-header practical">
        <span class="lang-en">Practical Application</span>
        <span class="lang-zh">å¯¦éš›æ‡‰ç”¨å•é¡Œ</span>
      </div>
      <ul class="lang-en">
        <li>Questions about real-world implementation</li>
        <li>Costs, timeline, resources needed</li>
        <li>How to put your plan into action</li>
      </ul>
      <ul class="lang-zh">
        <li>é—œæ–¼å¯¦éš›åŸ·è¡Œçš„å•é¡Œ</li>
        <li>æˆæœ¬ã€æ™‚é–“è¡¨ã€æ‰€éœ€è³‡æº</li>
        <li>å¦‚ä½•å¯¦æ–½è¨ˆåŠƒ</li>
      </ul>
    </div>
  </div>
</div>

      <div class="instruction-box">
        <h3>
          <span>ğŸ“</span>
          <span class="lang-en">How to Complete This Activity</span>
          <span class="lang-zh">å¦‚ä½•å®Œæˆæ­¤æ´»å‹•</span>
        </h3>
        <p class="lang-en">1. Tap a question on the left<br>2. Tap the matching category on the right<br>3. Match all 8 questions (2 per category)!</p>
        <p class="lang-zh">1. é»æ“Šå·¦é‚Šçš„å•é¡Œ<br>2. é»æ“Šå³é‚Šç›¸æ‡‰çš„é¡åˆ¥<br>3. é…å°å…¨éƒ¨8å€‹å•é¡Œï¼ˆæ¯é¡åˆ¥2å€‹ï¼‰ï¼</p>
      </div>

      <div class="matching-container">
        <div class="matching-column">
          <h4>
            <span class="lang-en">Questions</span>
            <span class="lang-zh">å•é¡Œ</span>
          </h4>
          <div id="questionsList"></div>
        </div>
        <div class="matching-column">
          <h4>
            <span class="lang-en">Question Types</span>
            <span class="lang-zh">å•é¡Œé¡å‹</span>
          </h4>
          <div id="categoriesList"></div>
        </div>
      </div>

      <div id="feedback1" class="feedback"></div>

      <div class="nav-buttons">
        <button class="btn btn-primary" id="nextBtn1" disabled>
          <span class="lang-en">Next Activity â†’</span>
          <span class="lang-zh">ä¸‹ä¸€å€‹æ´»å‹• â†’</span>
        </button>
      </div>
    </div>

    <!-- Activity 2: Fill in the Blanks -->
    <div class="activity" id="activity2">
      <div class="activity-title">
        <span class="lang-en">Activity 2: <br>Building Polite Response Phrases</span>
        <span class="lang-zh">æ´»å‹•äºŒï¼šå»ºç«‹ç¦®è²Œå›æ‡‰èªå¥</span>
      </div>

      <div class="tips-box">
        <h3>
          <span>ğŸ’¬</span>
          <span class="lang-en">Quick Reference: Commonly Used Polite Phrases</span>
          <span class="lang-zh">å¿«é€Ÿåƒè€ƒï¼šå¸¸ç”¨ç¦®è²Œç”¨èª</span>
        </h3>
        <ul>
          <li><span class="lang-en"><strong>Opening:</strong> Thank you for your question...</span><span class="lang-zh"><strong>é–‹å ´ï¼š</strong> è¬è¬ä½ çš„å•é¡Œ...</span></li>
          <li><span class="lang-en"><strong>Opening:</strong> That's a good point...</span><span class="lang-zh"><strong>é–‹å ´ï¼š</strong> é€™æ˜¯ä¸€å€‹å¥½å•é¡Œ...</span></li>
          <li><span class="lang-en"><strong>Opening:</strong> I'm glad you asked...</span><span class="lang-zh"><strong>é–‹å ´ï¼š</strong> å¾ˆé«˜èˆˆä½ å•é€™å€‹...</span></li>
          <li><span class="lang-en"><strong>Buying Time:</strong> Let me think about that...</span><span class="lang-zh"><strong>çˆ­å–æ™‚é–“ï¼š</strong> è®“æˆ‘æƒ³ä¸€æƒ³...</span></li>
          <li><span class="lang-en"><strong>Buying Time:</strong> That's an interesting question...</span><span class="lang-zh"><strong>çˆ­å–æ™‚é–“ï¼š</strong> é€™æ˜¯ä¸€å€‹æœ‰è¶£çš„å•é¡Œ...</span></li>
          <li><span class="lang-en"><strong>Clarifying:</strong> Just to clarify...</span><span class="lang-zh"><strong>æ¾„æ¸…ï¼š</strong> è®“æˆ‘æ¾„æ¸…ä¸€ä¸‹...</span></li>
          <li><span class="lang-en"><strong>Clarifying:</strong> What I meant was...</span><span class="lang-zh"><strong>æ¾„æ¸…ï¼š</strong> æˆ‘çš„æ„æ€æ˜¯...</span></li>
          <li><span class="lang-en"><strong>Clarifying:</strong> Let me explain further...</span><span class="lang-zh"><strong>æ¾„æ¸…ï¼š</strong> è®“æˆ‘é€²ä¸€æ­¥è§£é‡‹...</span></li>
          <li><span class="lang-en"><strong>Closing:</strong> Does that answer your question?</span><span class="lang-zh"><strong>çµæŸï¼š</strong> é€™æ¨£å›ç­”äº†ä½ çš„å•é¡Œå—ï¼Ÿ</span></li>
          <li><span class="lang-en"><strong>Closing:</strong> I hope that helps...</span><span class="lang-zh"><strong>çµæŸï¼š</strong> å¸Œæœ›é€™æœ‰å¹«åŠ©...</span></li>
          <li><span class="lang-en"><strong>Deferring:</strong> Could I get back to you on that?</span><span class="lang-zh"><strong>å»¶å¾Œå›ç­”ï¼š</strong> æˆ‘èƒ½ç¨å¾Œå†å›è¦†ä½ å—ï¼Ÿ</span></li>
          <li><span class="lang-en"><strong>Deferring:</strong> I'll need to check and follow up...</span><span class="lang-zh"><strong>å»¶å¾Œå›ç­”ï¼š</strong> æˆ‘éœ€è¦æŸ¥è­‰å¾Œå†è·Ÿé€²...</span></li>
        </ul>
      </div>

      <div class="instruction-box">
        <h3>
          <span>ğŸ“</span>
          <span class="lang-en">Instructions</span>
          <span class="lang-zh">èªªæ˜</span>
        </h3>
        <p class="lang-en">Select the most appropriate polite phrase from each dropdown menu to complete the responses. Use the reference tips above for guidance!</p>
        <p class="lang-zh">å¾æ¯å€‹ä¸‹æ‹‰é¸å–®ä¸­é¸æ“‡æœ€åˆé©çš„ç¦®è²Œç”¨èªä¾†å®Œæˆå›æ‡‰ã€‚ä½¿ç”¨ä¸Šé¢çš„åƒè€ƒæç¤ºä½œæŒ‡å¼•ï¼</p>
      </div>

      <div class="sentence-list" id="sentenceList"></div>

      <div id="feedback2" class="feedback"></div>

      <div class="nav-buttons">
        <button class="btn btn-secondary" id="prevBtn2">
          <span class="lang-en">â† Previous</span>
          <span class="lang-zh">â† ä¸Šä¸€å€‹</span>
        </button>
        <button class="btn btn-check" id="checkBtn2">
          <span class="lang-en">âœ“ Check Answers</span>
          <span class="lang-zh">âœ“ æª¢æŸ¥ç­”æ¡ˆ</span>
        </button>
        <button class="btn btn-primary" id="nextBtn2" disabled>
          <span class="lang-en">Next Activity â†’</span>
          <span class="lang-zh">ä¸‹ä¸€å€‹æ´»å‹• â†’</span>
        </button>
      </div>
    </div>

    <!-- Activity 3: Ordering Steps -->
    <div class="activity" id="activity3">
      <div class="activity-title">
        <span class="lang-en">Activity 3: <br>Sequencing Response Steps</span>
        <span class="lang-zh">æ´»å‹•ä¸‰ï¼šæ’åºå›æ‡‰æ­¥é©Ÿ</span>
      </div>

      <div class="instruction-box">
        <h3>
          <span>ğŸ”¢</span>
          <span class="lang-en">How to Order the Steps</span>
          <span class="lang-zh">å¦‚ä½•æ’åºæ­¥é©Ÿ</span>
        </h3>
        <p class="lang-en">Drag the steps using the â‰¡ handle to arrange them in the correct order (1 â†’ 5). The numbers on the right show each step's current position.</p>
        <p class="lang-zh">ä½¿ç”¨â‰¡åœ–ç¤ºæ‹–å‹•æ­¥é©Ÿï¼Œå°‡å®ƒå€‘æŒ‰æ­£ç¢ºé †åºæ’åˆ—ï¼ˆ1 â†’ 5ï¼‰ã€‚å³å´æ•¸å­—é¡¯ç¤ºæ¯å€‹æ­¥é©Ÿçš„ç•¶å‰ä½ç½®ã€‚</p>
      </div>

      <div class="ordering-container" id="orderingContainer"></div>

      <div id="feedback3" class="feedback"></div>

      <div class="nav-buttons">
        <button class="btn btn-secondary" id="prevBtn3">
          <span class="lang-en">â† Previous</span>
          <span class="lang-zh">â† ä¸Šä¸€å€‹</span>
        </button>
        <button class="btn btn-check" id="checkBtn3">
          <span class="lang-en">âœ“ Check Order</span>
          <span class="lang-zh">âœ“ æª¢æŸ¥é †åº</span>
        </button>
        <button class="btn btn-primary" id="nextBtn3" disabled>
          <span class="lang-en">Next Activity â†’</span>
          <span class="lang-zh">ä¸‹ä¸€å€‹æ´»å‹• â†’</span>
        </button>
      </div>
    </div>

    <!-- Activity 4: Multiple Choice Quiz -->
    <div class="activity" id="activity4">
      <div class="activity-title">
        <span class="lang-en">Activity 4: <br>Response Practice Quiz</span>
        <span class="lang-zh">æ´»å‹•å››ï¼šå›æ‡‰ç·´ç¿’æ¸¬é©—</span>
      </div>

      <div class="instruction-box">
        <h3>
          <span>âœï¸</span>
          <span class="lang-en">Instructions</span>
          <span class="lang-zh">èªªæ˜</span>
        </h3>
        <p class="lang-en">Read each question scenario and select the best response. Click the ğŸ”Š button to hear each option read aloud!</p>
        <p class="lang-zh">é–±è®€æ¯å€‹å•é¡Œæƒ…å¢ƒä¸¦é¸æ“‡æœ€ä½³å›æ‡‰ã€‚é»æ“ŠğŸ”ŠæŒ‰éˆ•è†è½æ¯å€‹é¸é …ï¼</p>
      </div>

      <div class="quiz-container" id="quizContainer"></div>

      <div id="feedback4" class="feedback"></div>

      <div class="nav-buttons">
        <button class="btn btn-secondary" id="prevBtn4">
          <span class="lang-en">â† Previous</span>
          <span class="lang-zh">â† ä¸Šä¸€å€‹</span>
        </button>
        <button class="btn btn-check" id="checkBtn4">
          <span class="lang-en">âœ“ Check Answers</span>
          <span class="lang-zh">âœ“ æª¢æŸ¥ç­”æ¡ˆ</span>
        </button>
        <button class="btn btn-primary" id="nextBtn4" disabled>
          <span class="lang-en">Next Activity â†’</span>
          <span class="lang-zh">ä¸‹ä¸€å€‹æ´»å‹• â†’</span>
        </button>
      </div>
    </div>

    <!-- Activity 5: Self-Assessment Checklist -->
    <div class="activity" id="activity5">
      <div class="activity-title">
        <span class="lang-en">Activity 5: <br>Q&A Skills Self-Assessment</span>
        <span class="lang-zh">æ´»å‹•äº”ï¼šå•ç­”æŠ€å·§è‡ªæˆ‘è©•ä¼°</span>
      </div>

      <div class="instruction-box">
        <h3>
          <span>âœ…</span>
          <span class="lang-en">Review Your Skills</span>
          <span class="lang-zh">æª¢è¦–ä½ çš„æŠ€å·§</span>
        </h3>
        <p class="lang-en">Check off each skill you feel confident about. This helps you identify areas where you might need more practice!</p>
        <p class="lang-zh">å‹¾é¸ä½ æœ‰ä¿¡å¿ƒçš„æŠ€å·§ã€‚é€™æœ‰åŠ©æ–¼ä½ è­˜åˆ¥å¯èƒ½éœ€è¦æ›´å¤šç·´ç¿’çš„é ˜åŸŸï¼</p>
      </div>

      <div class="checklist" id="checklist"></div>

      <div id="feedback5" class="feedback"></div>

      <div class="nav-buttons">
        <button class="btn btn-secondary" id="prevBtn5">
          <span class="lang-en">â† Previous</span>
          <span class="lang-zh">â† ä¸Šä¸€å€‹</span>
        </button>
        <button class="btn btn-check" id="completeBtn5">
          <span class="lang-en">ğŸ‰ Complete All Activities</span>
          <span class="lang-zh">ğŸ‰ å®Œæˆæ‰€æœ‰æ´»å‹•</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Completion Modal -->
  <div class="completion-modal" id="completionModal">
    <div class="completion-content">
      <div class="stars">â­â­â­â­â­</div>
      <h2>
        <span class="lang-en">Congratulations!</span>
        <span class="lang-zh">æ­å–œä½ ï¼</span>
      </h2>
      <p>
        <span class="lang-en">You've completed all 5 Q&A handling activities! You're now better prepared to confidently answer questions after your presentations.</span>
        <span class="lang-zh">ä½ å·²å®Œæˆå…¨éƒ¨5å€‹å•ç­”è™•ç†æ´»å‹•ï¼ä½ ç¾åœ¨æ›´æœ‰ä¿¡å¿ƒåœ¨ç°¡å ±å¾Œå›ç­”å•é¡Œäº†ã€‚</span>
      </p>
      <button class="btn btn-primary" id="homeBtn">
        <span class="lang-en">ğŸ  Return to Home</span>
        <span class="lang-zh">ğŸ  è¿”å›ä¸»é </span>
      </button>
    </div>
  </div>

  <script>
    // Confetti function
    function triggerConfetti() {
      confetti({
        particleCount: 100,
        spread: 70,
        origin: { y: 0.6 }
      });
    }

    // Data - Production Project
    const matchingData = {
      questions: [
        {
          id: 'q1',
          en: 'Can you explain the 3D printing process for the keychain again?',
          zh: 'ä½ èƒ½å†è§£é‡‹ä¸€æ¬¡é–åŒ™æ‰£çš„3Dæ‰“å°éç¨‹å—ï¼Ÿ',
          type: 'clarification'
        },
        {
          id: 'q2',
          en: 'What if the 3D printer breaks down during the workshop?',
          zh: 'å¦‚æœ3Dæ‰“å°æ©Ÿåœ¨å·¥ä½œåŠæœŸé–“æ•…éšœæ€éº¼è¾¦ï¼Ÿ',
          type: 'challenge'
        },
        {
          id: 'q3',
          en: 'Will you continue to produce more keychains after the Open Day?',
          zh: 'é–‹æ”¾æ—¥å¾Œä½ å€‘æœƒç¹¼çºŒè£½ä½œæ›´å¤šé–åŒ™æ‰£å—ï¼Ÿ',
          type: 'extension'
        },
        {
          id: 'q4',
          en: 'How much does the filament for each keychain cost?',
          zh: 'æ¯å€‹é–åŒ™æ‰£çš„æ‰“å°ç·šææˆæœ¬æ˜¯å¤šå°‘ï¼Ÿ',
          type: 'practical'
        },
        {
          id: 'q5',
          en: 'Could you give us more details about the keychain design?',
          zh: 'ä½ èƒ½çµ¦æˆ‘å€‘æ›´å¤šé—œæ–¼é–åŒ™æ‰£è¨­è¨ˆçš„ç´°ç¯€å—ï¼Ÿ',
          type: 'clarification'
        },
        {
          id: 'q6',
          en: 'Have you considered that visitors might not want to wait for 3D printing?',
          zh: 'ä½ å€‘æœ‰è€ƒæ…®éè¨ªå®¢å¯èƒ½ä¸é¡˜æ„ç­‰å¾…3Dæ‰“å°å—ï¼Ÿ',
          type: 'challenge'
        },
        {
          id: 'q7',
          en: 'Could this workshop be adapted for other school events?',
          zh: 'é€™å€‹å·¥ä½œåŠèƒ½å¦æ‡‰ç”¨æ–¼å…¶ä»–å­¸æ ¡æ´»å‹•ï¼Ÿ',
          type: 'extension'
        },
        {
          id: 'q8',
          en: 'When exactly will the workshop take place on Open Day?',
          zh: 'å·¥ä½œåŠå…·é«”ä»€éº¼æ™‚å€™åœ¨é–‹æ”¾æ—¥èˆ‰è¡Œï¼Ÿ',
          type: 'practical'
        }
      ],
      categories: [
        {
          id: 'clarification',
          en: 'Clarification',
          zh: 'æ¾„æ¸…å•é¡Œ'
        },
        {
          id: 'challenge',
          en: 'Challenge',
          zh: 'æŒ‘æˆ°å•é¡Œ'
        },
        {
          id: 'extension',
          en: 'Extension',
          zh: 'å»¶ä¼¸å•é¡Œ'
        },
        {
          id: 'practical',
          en: 'Practical Application',
          zh: 'å¯¦éš›æ‡‰ç”¨å•é¡Œ'
        }
      ]
    };

    const sentencesData = [
  {
    id: 's1',
    textEn: '<blank>, I\'d like to address your concern about the 3D printer reliability.',
    textZh: '<blank>ï¼Œæˆ‘æƒ³è§£ç­”ä½ å°3Dæ‰“å°æ©Ÿå¯é æ€§çš„ç–‘æ…®ã€‚',
    answer: 'Thank you for your question',
    hintEn: 'Opening: Use a polite phrase to acknowledge the question',
    hintZh: 'é–‹å ´ï¼šä½¿ç”¨ç¦®è²Œç”¨èªä¾†å›æ‡‰å•é¡Œ'
  },
  {
    id: 's2',
    textEn: '<blank> about the production timeline. We actually plan to complete the prototype by week 10.',
    textZh: 'é—œæ–¼è£½ä½œæ™‚é–“è¡¨ï¼Œ<blank>ã€‚æˆ‘å€‘å¯¦éš›ä¸Šè¨ˆåŠƒåœ¨ç¬¬10é€±å®ŒæˆåŸå‹ã€‚',
    answer: 'Let me clarify',
    hintEn: 'Clarifying: You need to explain something more clearly',
    hintZh: 'æ¾„æ¸…ï¼šä½ éœ€è¦æ›´æ¸…æ¥šåœ°è§£é‡‹æŸäº›å…§å®¹'
  },
  {
    id: 's3',
    textEn: '<blank>. Could you rephrase your question about the keychain testing?',
    textZh: '<blank>ã€‚ä½ èƒ½é‡æ–°è¡¨è¿°ä¸€ä¸‹é—œæ–¼é–åŒ™æ‰£æ¸¬è©¦çš„å•é¡Œå—ï¼Ÿ',
    answer: 'I\'m not sure I understand',
    hintEn: 'Clarifying: You don\'t fully understand the question',
    hintZh: 'æ¾„æ¸…ï¼šä½ ä¸å®Œå…¨ç†è§£å•é¡Œ'
  },
  {
    id: 's4',
    textEn: 'The success criteria are based on visitor satisfaction and workshop attendance. <blank>?',
    textZh: 'æˆåŠŸæº–å‰‡æ˜¯åŸºæ–¼è¨ªå®¢æ»¿æ„åº¦å’Œå·¥ä½œåŠåƒåŠ äººæ•¸ã€‚<blank>ï¼Ÿ',
    answer: 'Does that answer your question',
    hintEn: 'Closing: Check if your answer was sufficient',
    hintZh: 'çµæŸï¼šç¢ºèªä½ çš„ç­”æ¡ˆæ˜¯å¦å……åˆ†'
  },
  {
    id: 's5',
    textEn: '<blank>. We haven\'t finalised the exact material cost yet, but I can follow up with you.',
    textZh: '<blank>ã€‚æˆ‘å€‘é‚„æ²’æœ‰ç¢ºå®šç¢ºåˆ‡çš„ææ–™æˆæœ¬ï¼Œä½†æˆ‘å¯ä»¥ä¹‹å¾Œè·Ÿé€²ã€‚',
    answer: 'That\'s a good point',
    hintEn: 'Opening: Acknowledge a valid concern positively',
    hintZh: 'é–‹å ´ï¼šç©æ¥µåœ°èªåŒä¸€å€‹åˆç†çš„ç–‘æ…®'
  },
  {
    id: 's6',
    textEn: '<blank> for a moment. Yes, we could adapt this workshop for other events.',
    textZh: '<blank>ã€‚æ˜¯çš„ï¼Œæˆ‘å€‘å¯ä»¥å°‡é€™å€‹å·¥ä½œåŠæ‡‰ç”¨æ–¼å…¶ä»–æ´»å‹•ã€‚',
    answer: 'Let me think about that',
    hintEn: 'Buying Time: You need time to consider the answer',
    hintZh: 'çˆ­å–æ™‚é–“ï¼šä½ éœ€è¦æ™‚é–“æ€è€ƒç­”æ¡ˆ'
  },
  {
    id: 's7',
    textEn: '<blank>, we did consider pre-made keychains, but 3D printing provides a unique experience.',
    textZh: '<blank>ï¼Œæˆ‘å€‘ç¢ºå¯¦è€ƒæ…®éé è£½é–åŒ™æ‰£ï¼Œä½†3Dæ‰“å°èƒ½æä¾›ç¨ç‰¹é«”é©—ã€‚',
    answer: 'I\'m glad you asked',
    hintEn: 'Opening: Show enthusiasm about answering the question',
    hintZh: 'é–‹å ´ï¼šè¡¨ç¾å‡ºæ¨‚æ–¼å›ç­”å•é¡Œçš„æ…‹åº¦'
  },
  {
    id: 's8',
    textEn: '<blank> was that the keychain should be compact and promotional, not just decorative.',
    textZh: '<blank>ï¼Œé–åŒ™æ‰£æ‡‰è©²æ˜¯å°å·§å’Œå…·å®£å‚³æ€§çš„ï¼Œè€Œä¸åƒ…åƒ…æ˜¯è£é£¾å“ã€‚',
    answer: 'What I meant',
    hintEn: 'Clarifying: Rephrase to make your point clearer',
    hintZh: 'æ¾„æ¸…ï¼šé‡æ–°è¡¨è¿°ä»¥ä½¿ä½ çš„è§€é»æ›´æ¸…æ™°'
  },
  {
    id: 's9',
    textEn: '<blank>. The workshop will run from 10am to 4pm on Open Day.',
    textZh: '<blank>ã€‚å·¥ä½œåŠå°‡åœ¨é–‹æ”¾æ—¥ä¸Šåˆ10æ™‚è‡³ä¸‹åˆ4æ™‚é€²è¡Œã€‚',
    answer: 'Let me explain further',
    hintEn: 'Clarifying: Provide more details about your plan',
    hintZh: 'æ¾„æ¸…ï¼šæä¾›æ›´å¤šé—œæ–¼ä½ è¨ˆåŠƒçš„ç´°ç¯€'
  },
  {
    id: 's10',
    textEn: 'I don\'t have the exact printing time per keychain right now. <blank>?',
    textZh: 'æˆ‘ç¾åœ¨æ²’æœ‰æ¯å€‹é–åŒ™æ‰£çš„ç¢ºåˆ‡æ‰“å°æ™‚é–“ã€‚<blank>ï¼Ÿ',
    answer: 'Could I get back to you on that',
    hintEn: 'Deferring: You need to check information before answering',
    hintZh: 'å»¶å¾Œå›ç­”ï¼šä½ éœ€è¦æŸ¥è­‰è³‡æ–™å¾Œæ‰èƒ½å›ç­”'
  }
];

    const phraseOptions = [
      'Thank you for your question',
      'That\'s a good point',
      'I\'m glad you asked',
      'Let me clarify',
      'Let me think about that',
      'I\'m not sure I understand',
      'What I meant',
      'Let me explain further',
      'Does that answer your question',
      'Could I get back to you on that'
    ];

const phraseOptionsZh = [
  { en: 'Thank you for your question', zh: 'è¬è¬ä½ çš„æå•' },
  { en: 'That\'s a good point', zh: 'é€™å€‹å•é¡Œæå¾—å¾ˆå¥½' },
  { en: 'I\'m glad you asked', zh: 'å¾ˆé«˜èˆˆä½ æå‡ºé€™å€‹å•é¡Œ' },
  { en: 'Let me clarify', zh: 'è®“æˆ‘æ¾„æ¸…ä¸€ä¸‹' },
  { en: 'Let me think about that', zh: 'è®“æˆ‘æƒ³æƒ³' },
  { en: 'I\'m not sure I understand', zh: 'æˆ‘ä¸å¤ªæ˜ç™½ä½ çš„æ„æ€' },
  { en: 'What I meant', zh: 'æˆ‘çš„æ„æ€æ˜¯' },
  { en: 'Let me explain further', zh: 'è®“æˆ‘é€²ä¸€æ­¥è§£é‡‹' },
  { en: 'Does that answer your question', zh: 'é€™æ¨£å›ç­”äº†ä½ çš„å•é¡Œå—' },
  { en: 'Could I get back to you on that', zh: 'æˆ‘èƒ½ç¨å¾Œå†å›è¦†ä½ å—' }
];

    const orderingSteps = [
      {
        id: 1,
        en: 'Listen actively and maintain eye contact with the questioner',
        zh: 'ç©æ¥µè†è½ä¸¦èˆ‡æå•è€…ä¿æŒç›®å…‰æ¥è§¸',
        correct: 1
      },
      {
        id: 2,
        en: 'Thank the questioner politely',
        zh: 'ç¦®è²Œåœ°æ„Ÿè¬æå•è€…',
        correct: 2
      },
      {
        id: 3,
        en: 'Reiterate or clarify the question to ensure understanding',
        zh: 'é‡ç”³æˆ–æ¾„æ¸…å•é¡Œä»¥ç¢ºä¿ç†è§£',
        correct: 3
      },
      {
        id: 4,
        en: 'Provide your answer clearly and concisely',
        zh: 'æ¸…æ™°ç°¡æ½”åœ°æä¾›ä½ çš„ç­”æ¡ˆ',
        correct: 4
      },
      {
        id: 5,
        en: 'Check if the answer was sufficient',
        zh: 'æª¢æŸ¥ç­”æ¡ˆæ˜¯å¦å……åˆ†',
        correct: 5
      }
    ];

    const quizData = [
      {
        id: 'quiz1',
        questionEn: 'Someone asks: "Your 3D printer might not be fast enough. How will you serve all the visitors?" What\'s the best response?',
        questionZh: 'æœ‰äººå•ï¼šã€Œä½ å€‘çš„3Dæ‰“å°æ©Ÿå¯èƒ½ä¸å¤ å¿«ã€‚ä½ å€‘å¦‚ä½•æœå‹™æ‰€æœ‰è¨ªå®¢ï¼Ÿã€æœ€ä½³å›æ‡‰æ˜¯ä»€éº¼ï¼Ÿ',
        options: [
          {
            textEn: 'The printer is fast enough.',
            textZh: 'æ‰“å°æ©Ÿå¤ å¿«äº†ã€‚',
            correct: false
          },
          {
            textEn: 'That\'s a good point. We plan to have 3-5 printers running simultaneously, and we\'ve tested the workflow to ensure smooth operation. Let me explain our queue management system.',
            textZh: 'é€™æ˜¯ä¸€å€‹å¥½å•é¡Œã€‚æˆ‘å€‘è¨ˆåŠƒåŒæ™‚é‹è¡Œ3è‡³5éƒ¨æ‰“å°æ©Ÿï¼Œä¸¦å·²æ¸¬è©¦å·¥ä½œæµç¨‹ä»¥ç¢ºä¿é †æš¢é‹ä½œã€‚è®“æˆ‘è§£é‡‹ä¸€ä¸‹æˆ‘å€‘çš„è¼ªå€™ç®¡ç†ç³»çµ±ã€‚',
            correct: true
          },
          {
            textEn: 'I don\'t know about the printing speed.',
            textZh: 'æˆ‘ä¸çŸ¥é“é—œæ–¼æ‰“å°é€Ÿåº¦çš„äº‹ã€‚',
            correct: false
          }
        ]
      },
      {
        id: 'quiz2',
        questionEn: 'A visitor asks: "Why did you choose this specific keychain design?" What\'s the best response?',
        questionZh: 'ä¸€ä½è¨ªå®¢å•ï¼šã€Œä½ å€‘ç‚ºä»€éº¼é¸æ“‡é€™å€‹ç‰¹å®šçš„é–åŒ™æ‰£è¨­è¨ˆï¼Ÿã€æœ€ä½³å›æ‡‰æ˜¯ä»€éº¼ï¼Ÿ',
        options: [
          {
            textEn: 'Because we like it.',
            textZh: 'å› ç‚ºæˆ‘å€‘å–œæ­¡å®ƒã€‚',
            correct: false
          },
          {
            textEn: 'I\'m glad you asked! The design was chosen because it\'s compact, represents our college logo, and can be printed in under 15 minutes. We also surveyed students for feedback.',
            textZh: 'å¾ˆé«˜èˆˆä½ æå‡ºé€™å€‹å•é¡Œï¼æˆ‘å€‘é¸æ“‡é€™å€‹è¨­è¨ˆæ˜¯å› ç‚ºå®ƒå°å·§ã€ä»£è¡¨æˆ‘å€‘çš„å­¸é™¢æ¨™èªŒï¼Œè€Œä¸”å¯ä»¥åœ¨15åˆ†é˜å…§æ‰“å°å®Œæˆã€‚æˆ‘å€‘é‚„èª¿æŸ¥äº†å­¸ç”Ÿçš„æ„è¦‹ã€‚',
            correct: true
          },
          {
            textEn: 'The teacher told us to use this design.',
            textZh: 'è€å¸«å«æˆ‘å€‘ç”¨é€™å€‹è¨­è¨ˆã€‚',
            correct: false
          }
        ]
      },
      {
        id: 'quiz3',
        questionEn: 'Someone challenges: "What if visitors don\'t like the keychain color?" How should you respond?',
        questionZh: 'æœ‰äººè³ªç–‘ï¼šã€Œå¦‚æœè¨ªå®¢ä¸å–œæ­¡é–åŒ™æ‰£çš„é¡è‰²æ€éº¼è¾¦ï¼Ÿã€ä½ æ‡‰è©²å¦‚ä½•å›æ‡‰ï¼Ÿ',
        options: [
          {
            textEn: 'That\'s not a problem.',
            textZh: 'é‚£ä¸æ˜¯å•é¡Œã€‚',
            correct: false
          },
          {
            textEn: 'Thank you for raising that. We\'ve actually prepared filament in three different colors - blue, white, and orange - which are our college colors. Visitors can choose their preferred color.',
            textZh: 'è¬è¬ä½ æå‡ºé€™é»ã€‚æˆ‘å€‘å¯¦éš›ä¸Šå·²æº–å‚™äº†ä¸‰ç¨®ä¸åŒé¡è‰²çš„ç·šæâ€”â€”è—è‰²ã€ç™½è‰²å’Œæ©™è‰²â€”â€”é€™äº›æ˜¯æˆ‘å€‘å­¸é™¢çš„é¡è‰²ã€‚è¨ªå®¢å¯ä»¥é¸æ“‡ä»–å€‘å–œæ­¡çš„é¡è‰²ã€‚',
            correct: true
          },
          {
            textEn: 'They have to accept what we give them.',
            textZh: 'ä»–å€‘å¿…é ˆæ¥å—æˆ‘å€‘çµ¦çš„ã€‚',
            correct: false
          }
        ]
      },
      {
        id: 'quiz4',
        questionEn: 'A teacher asks: "How will you evaluate if the workshop was successful?" What\'s the most professional response?',
        questionZh: 'ä¸€ä½è€å¸«å•ï¼šã€Œä½ å€‘å°‡å¦‚ä½•è©•ä¼°å·¥ä½œåŠæ˜¯å¦æˆåŠŸï¼Ÿã€æœ€å°ˆæ¥­çš„å›æ‡‰æ˜¯ä»€éº¼ï¼Ÿ',
        options: [
          {
            textEn: 'If people come to the workshop.',
            textZh: 'å¦‚æœæœ‰äººä¾†åƒåŠ å·¥ä½œåŠã€‚',
            correct: false
          },
          {
            textEn: 'Let me clarify our success criteria. We aim to attract 200+ visitors, achieve 80% satisfaction rate through surveys, and ensure participants understand basic 3D printing steps. Does that answer your question?',
            textZh: 'è®“æˆ‘æ¾„æ¸…ä¸€ä¸‹æˆ‘å€‘çš„æˆåŠŸæº–å‰‡ã€‚æˆ‘å€‘ç›®æ¨™å¸å¼•200ä½ä»¥ä¸Šè¨ªå®¢ï¼Œé€éå•å·é”åˆ°80%æ»¿æ„åº¦ï¼Œä¸¦ç¢ºä¿åƒåŠ è€…ç†è§£åŸºæœ¬3Dæ‰“å°æ­¥é©Ÿã€‚é€™æ¨£å›ç­”äº†ä½ çš„å•é¡Œå—ï¼Ÿ',
            correct: true
          },
          {
            textEn: 'We haven\'t thought about that yet.',
            textZh: 'æˆ‘å€‘é‚„æ²’æƒ³éé€™å€‹ã€‚',
            correct: false
          }
        ]
      }
    ];

    const checklistData = [
      {
        id: 'c1',
        en: 'I can identify different types of questions (clarification, challenge, extension, practical)',
        zh: 'æˆ‘èƒ½è­˜åˆ¥ä¸åŒé¡å‹çš„å•é¡Œï¼ˆæ¾„æ¸…ã€æŒ‘æˆ°ã€å»¶ä¼¸ã€å¯¦éš›æ‡‰ç”¨ï¼‰'
      },
      {
        id: 'c2',
        en: 'I know how to use polite opening phrases when answering questions',
        zh: 'æˆ‘çŸ¥é“å¦‚ä½•åœ¨å›ç­”å•é¡Œæ™‚ä½¿ç”¨ç¦®è²Œçš„é–‹å ´èª'
      },
      {
        id: 'c3',
        en: 'I can buy time politely when I need to think about an answer',
        zh: 'æˆ‘èƒ½åœ¨éœ€è¦æ€è€ƒç­”æ¡ˆæ™‚ç¦®è²Œåœ°çˆ­å–æ™‚é–“'
      },
      {
        id: 'c4',
        en: 'I know how to clarify or rephrase my answers for better understanding',
        zh: 'æˆ‘çŸ¥é“å¦‚ä½•æ¾„æ¸…æˆ–é‡æ–°è¡¨è¿°æˆ‘çš„ç­”æ¡ˆä»¥ä¾¿æ›´å¥½ç†è§£'
      },
      {
        id: 'c5',
        en: 'I can check if my answer was sufficient by asking follow-up questions',
        zh: 'æˆ‘èƒ½é€éæå‡ºè·Ÿé€²å•é¡Œä¾†æª¢æŸ¥æˆ‘çš„ç­”æ¡ˆæ˜¯å¦å……åˆ†'
      },
      {
        id: 'c6',
        en: 'I know how to politely defer a question if I don\'t have immediate information',
        zh: 'æˆ‘çŸ¥é“å¦‚ä½•åœ¨æ²’æœ‰å³æ™‚è³‡è¨Šæ™‚ç¦®è²Œåœ°å»¶å¾Œå›ç­”å•é¡Œ'
      },
      {
        id: 'c7',
        en: 'I maintain eye contact and listen actively when someone asks a question',
        zh: 'æˆ‘åœ¨æœ‰äººæå•æ™‚ä¿æŒç›®å…‰æ¥è§¸ä¸¦ç©æ¥µè†è½'
      },
      {
        id: 'c8',
        en: 'I can handle challenging or critical questions professionally',
        zh: 'æˆ‘èƒ½å°ˆæ¥­åœ°è™•ç†å…·æŒ‘æˆ°æ€§æˆ–æ‰¹è©•æ€§çš„å•é¡Œ'
      },
      {
        id: 'c9',
        en: 'I understand the importance of following a structured response sequence',
        zh: 'æˆ‘æ˜ç™½éµå¾ªçµæ§‹åŒ–å›æ‡‰é †åºçš„é‡è¦æ€§'
      },
      {
        id: 'c10',
        en: 'I feel confident answering questions about my production project',
        zh: 'æˆ‘æœ‰ä¿¡å¿ƒå›ç­”é—œæ–¼æˆ‘çš„è£½ä½œå°ˆé¡Œçš„å•é¡Œ'
      }
    ];

    // State
    let currentActivity = 1;
    let currentLang = 'en';
    let selectedQuestion = null;
    let matchedPairs = new Set();
    let completedActivities = new Set();

    // Language toggle
    document.getElementById('langToggle').addEventListener('click', () => {
      currentLang = currentLang === 'en' ? 'zh' : 'en';
      document.body.classList.toggle('zh', currentLang === 'zh');
    });

    // Initialize
    function init() {
      createProgressDots();
      initActivity1();
      initActivity2();
      initActivity3();
      initActivity4();
      initActivity5();
      updateProgressDots();
    }

    function createProgressDots() {
      const container = document.getElementById('progressDots');
      for (let i = 1; i <= 5; i++) {
        const dot = document.createElement('div');
        dot.className = 'dot' + (i === 1 ? ' active' : '');
        dot.dataset.activity = i;
        container.appendChild(dot);
      }
    }

    function updateProgressDots() {
      const dots = document.querySelectorAll('.dot');
      dots.forEach((dot, index) => {
        const activityNum = index + 1;
        dot.classList.remove('active', 'completed');
        if (activityNum === currentActivity) {
          dot.classList.add('active');
        } else if (completedActivities.has(activityNum)) {
          dot.classList.add('completed');
        }
      });
    }

    function showActivity(activityNum) {
      document.querySelectorAll('.activity').forEach(a => a.classList.remove('active'));
      document.getElementById(`activity${activityNum}`).classList.add('active');
      currentActivity = activityNum;
      updateProgressDots();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Activity 1: Matching - FIXED
    function initActivity1() {
      const questionsList = document.getElementById('questionsList');
      const categoriesList = document.getElementById('categoriesList');

      matchingData.questions.forEach(q => {
        const div = document.createElement('div');
        div.className = 'question-item';
        div.dataset.id = q.id;
        div.dataset.type = q.type;
        div.innerHTML = `<span class="lang-en">${q.en}</span><span class="lang-zh">${q.zh}</span>`;
        div.addEventListener('click', () => selectQuestion(q.id, div));
        questionsList.appendChild(div);
      });

      matchingData.categories.forEach(c => {
        const div = document.createElement('div');
        div.className = 'category-item';
        div.dataset.id = c.id;
        div.innerHTML = `<span class="lang-en">${c.en}</span><span class="lang-zh">${c.zh}</span>`;
        div.addEventListener('click', () => selectCategory(c.id, div));
        categoriesList.appendChild(div);
      });

      document.getElementById('nextBtn1').addEventListener('click', () => {
        completedActivities.add(1);
        showActivity(2);
      });
    }

    function selectQuestion(id, element) {
      document.querySelectorAll('.question-item').forEach(q => q.classList.remove('selected'));
      element.classList.add('selected');
      selectedQuestion = { id, element, type: element.dataset.type };
    }

    // FIXED selectCategory - allows 2 matches per category
    function selectCategory(categoryId, element) {
      if (!selectedQuestion) return;

      const matchedToCategory = element.querySelectorAll('.matched-question').length;

      if (matchedToCategory >= 2) {
        const feedback = document.getElementById('feedback1');
        feedback.className = 'feedback error';
        feedback.innerHTML = currentLang === 'en'
          ? 'âš ï¸ This category already has 2 questions matched!'
          : 'âš ï¸ é€™å€‹é¡åˆ¥å·²ç¶“é…å°äº†2å€‹å•é¡Œï¼';
        setTimeout(() => feedback.className = 'feedback', 2000);
        selectedQuestion = null;
        document.querySelectorAll('.question-item').forEach(q => q.classList.remove('selected'));
        return;
      }

      if (selectedQuestion.type === categoryId) {
        const questionText = selectedQuestion.element.innerHTML;
        const matchedDiv = document.createElement('div');
        matchedDiv.className = 'matched-question';
        matchedDiv.innerHTML = questionText;
        element.appendChild(matchedDiv);

        selectedQuestion.element.style.opacity = '0.3';
        selectedQuestion.element.style.pointerEvents = 'none';

        matchedPairs.add(selectedQuestion.id);

        triggerConfetti();

        if (matchedToCategory + 1 === 2) {
          element.classList.add('matched');
        }

        if (matchedPairs.size === matchingData.questions.length) {
          setTimeout(() => {
            const feedback = document.getElementById('feedback1');
            feedback.className = 'feedback success';
            feedback.innerHTML = currentLang === 'en' 
              ? 'ğŸ‰ Perfect! You matched all questions correctly!'
              : 'ğŸ‰ å®Œç¾ï¼ä½ æˆåŠŸé…å°äº†æ‰€æœ‰å•é¡Œï¼';
            document.getElementById('nextBtn1').disabled = false;
            setTimeout(triggerConfetti, 300);
          }, 300);
        }
      } else {
        const feedback = document.getElementById('feedback1');
        feedback.className = 'feedback error';
        feedback.innerHTML = currentLang === 'en'
          ? 'âŒ Not quite right. Try again!'
          : 'âŒ ä¸å¤ªå°ã€‚å†è©¦ä¸€æ¬¡ï¼';
        setTimeout(() => feedback.className = 'feedback', 2000);
      }

      selectedQuestion = null;
      document.querySelectorAll('.question-item').forEach(q => q.classList.remove('selected'));
    }

    // Activity 2: Fill in the blanks
    function initActivity2() {
      const sentenceList = document.getElementById('sentenceList');

      sentencesData.forEach(s => {
        const div = document.createElement('div');
        div.className = 'sentence-item';
        div.dataset.id = s.id;

        const hintDiv = document.createElement('div');
        hintDiv.className = 'hint-box';
        hintDiv.innerHTML = `
          <span class="hint-icon">ğŸ’¡</span>
          <span class="hint-text">
            <span class="lang-en">${s.hintEn}</span>
            <span class="lang-zh">${s.hintZh}</span>
          </span>
        `;

        const select = document.createElement('select');
        select.className = 'blank-select';
        select.dataset.answer = s.answer;

        const defaultOption = document.createElement('option');
        defaultOption.value = '';
        defaultOption.textContent = currentLang === 'en' ? '-- Select phrase --' : '-- é¸æ“‡èªå¥ --';
        select.appendChild(defaultOption);

        phraseOptions.forEach(phrase => {
          const option = document.createElement('option');
          option.value = phrase;
          const zhPhrase = phraseOptionsZh.find(p => p.en === phrase);
          option.textContent = currentLang === 'en' ? phrase : (zhPhrase ? zhPhrase.zh : phrase);
          select.appendChild(option);
        });

        const textEn = s.textEn.replace('<blank>', select.outerHTML);
        const textZh = s.textZh.replace('<blank>', select.outerHTML);

        div.appendChild(hintDiv);
        const textDiv = document.createElement('div');
        textDiv.innerHTML = `<span class="lang-en">${textEn}</span><span class="lang-zh">${textZh}</span>`;
        div.appendChild(textDiv);

        sentenceList.appendChild(div);
      });

      document.getElementById('prevBtn2').addEventListener('click', () => showActivity(1));
      document.getElementById('checkBtn2').addEventListener('click', checkActivity2);
      document.getElementById('nextBtn2').addEventListener('click', () => {
        completedActivities.add(2);
        showActivity(3);
      });
    }

    function checkActivity2() {
      const items = document.querySelectorAll('#sentenceList .sentence-item');
      let allCorrect = true;

      items.forEach(item => {
        const select = item.querySelector('.blank-select');
        const correct = select.value === select.dataset.answer;

        item.classList.remove('correct', 'wrong');
        select.classList.remove('correct', 'wrong');

        if (select.value) {
          if (correct) {
            item.classList.add('correct');
            select.classList.add('correct');
          } else {
            item.classList.add('wrong');
            select.classList.add('wrong');
            allCorrect = false;
          }
        } else {
          allCorrect = false;
        }
      });

      const feedback = document.getElementById('feedback2');
      if (allCorrect) {
        feedback.className = 'feedback success';
        feedback.innerHTML = currentLang === 'en'
          ? 'ğŸ‰ Excellent! All phrases are correct!'
          : 'ğŸ‰ å¤ªå¥½äº†ï¼æ‰€æœ‰èªå¥éƒ½æ­£ç¢ºï¼';
        document.getElementById('nextBtn2').disabled = false;
        triggerConfetti();
      } else {
        feedback.className = 'feedback error';
        feedback.innerHTML = currentLang === 'en'
          ? 'âŒ Some phrases are incorrect. Review and try again!'
          : 'âŒ æœ‰äº›èªå¥ä¸æ­£ç¢ºã€‚é‡æ–°æª¢è¦–ä¸¦å†è©¦ä¸€æ¬¡ï¼';
      }
    }

    // Activity 3: Ordering
    function initActivity3() {
      const container = document.getElementById('orderingContainer');
      const shuffled = [...orderingSteps].sort(() => Math.random() - 0.5);

      shuffled.forEach((step, index) => {
        const div = document.createElement('div');
        div.className = 'order-item';
        div.draggable = true;
        div.dataset.correct = step.correct;
        div.innerHTML = `
          <span class="drag-handle">â‰¡</span>
          <span class="lang-en">${step.en}</span>
          <span class="lang-zh">${step.zh}</span>
          <span class="order-number">${index + 1}</span>
        `;
        container.appendChild(div);

        div.addEventListener('dragstart', handleDragStart);
        div.addEventListener('dragover', handleDragOver);
        div.addEventListener('drop', handleDrop);
        div.addEventListener('dragend', handleDragEnd);
      });

      document.getElementById('prevBtn3').addEventListener('click', () => showActivity(2));
      document.getElementById('checkBtn3').addEventListener('click', checkActivity3);
      document.getElementById('nextBtn3').addEventListener('click', () => {
        completedActivities.add(3);
        showActivity(4);
      });
    }

    let draggedItem = null;

    function handleDragStart(e) {
      draggedItem = this;
      this.classList.add('dragging');
    }

    function handleDragOver(e) {
      e.preventDefault();
    }

    function handleDrop(e) {
      e.preventDefault();
      if (this !== draggedItem) {
        const container = document.getElementById('orderingContainer');
        const items = [...container.children];
        const draggedIndex = items.indexOf(draggedItem);
        const targetIndex = items.indexOf(this);

        if (draggedIndex < targetIndex) {
          container.insertBefore(draggedItem, this.nextSibling);
        } else {
          container.insertBefore(draggedItem, this);
        }

        updateOrderNumbers();
      }
    }

    function handleDragEnd() {
      this.classList.remove('dragging');
      draggedItem = null;
    }

    function updateOrderNumbers() {
      const items = document.querySelectorAll('#orderingContainer .order-item');
      items.forEach((item, index) => {
        item.querySelector('.order-number').textContent = index + 1;
      });
    }

    function checkActivity3() {
      const items = document.querySelectorAll('#orderingContainer .order-item');
      let allCorrect = true;

      items.forEach((item, index) => {
        const correct = parseInt(item.dataset.correct) === index + 1;
        item.classList.remove('correct');

        if (correct) {
          item.classList.add('correct');
        } else {
          allCorrect = false;
        }
      });

      const feedback = document.getElementById('feedback3');
      if (allCorrect) {
        feedback.className = 'feedback success';
        feedback.innerHTML = currentLang === 'en'
          ? 'ğŸ‰ Perfect order! You understand the response sequence!'
          : 'ğŸ‰ å®Œç¾é †åºï¼ä½ ç†è§£å›æ‡‰æ­¥é©Ÿäº†ï¼';
        document.getElementById('nextBtn3').disabled = false;
        triggerConfetti();
      } else {
        feedback.className = 'feedback error';
        feedback.innerHTML = currentLang === 'en'
          ? 'âŒ The order isn\'t quite right. Try rearranging the steps!'
          : 'âŒ é †åºä¸å¤ªå°ã€‚å˜—è©¦é‡æ–°æ’åˆ—æ­¥é©Ÿï¼';
      }
    }

    // Activity 4: Multiple Choice Quiz
    function initActivity4() {
      const container = document.getElementById('quizContainer');

      quizData.forEach((quiz, qIndex) => {
        const questionDiv = document.createElement('div');
        questionDiv.className = 'quiz-question';
        questionDiv.dataset.id = quiz.id;

        const questionTitle = document.createElement('h4');
        questionTitle.innerHTML = `
          <span class="lang-en">Question ${qIndex + 1}: ${quiz.questionEn}</span>
          <span class="lang-zh">å•é¡Œ ${qIndex + 1}ï¼š${quiz.questionZh}</span>
        `;
        questionDiv.appendChild(questionTitle);

        const optionsDiv = document.createElement('div');
        optionsDiv.className = 'quiz-options';

        quiz.options.forEach((option, oIndex) => {
          const optionDiv = document.createElement('div');
          optionDiv.className = 'quiz-option';
          optionDiv.dataset.correct = option.correct;

          const ttsBtn = document.createElement('button');
          ttsBtn.className = 'tts-btn';
          ttsBtn.textContent = 'ğŸ”Š';
          ttsBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            speakText(currentLang === 'en' ? option.textEn : option.textZh, ttsBtn);
          });

          const textSpan = document.createElement('span');
          textSpan.innerHTML = `
            <span class="lang-en">${option.textEn}</span>
            <span class="lang-zh">${option.textZh}</span>
          `;

          optionDiv.appendChild(ttsBtn);
          optionDiv.appendChild(textSpan);
          optionDiv.addEventListener('click', () => selectQuizOption(quiz.id, optionDiv));

          optionsDiv.appendChild(optionDiv);
        });

        questionDiv.appendChild(optionsDiv);
        container.appendChild(questionDiv);
      });

      document.getElementById('prevBtn4').addEventListener('click', () => showActivity(3));
      document.getElementById('checkBtn4').addEventListener('click', checkActivity4);
      document.getElementById('nextBtn4').addEventListener('click', () => {
        completedActivities.add(4);
        showActivity(5);
      });
    }

    function selectQuizOption(quizId, element) {
      const question = document.querySelector(`[data-id="${quizId}"]`);
      question.querySelectorAll('.quiz-option').forEach(opt => opt.classList.remove('selected'));
      element.classList.add('selected');
    }

    function speakText(text, button) {
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = currentLang === 'en' ? 'en-US' : 'zh-HK';
      utterance.rate = 0.9;

      button.classList.add('speaking');
      utterance.onend = () => button.classList.remove('speaking');

      speechSynthesis.cancel();
      speechSynthesis.speak(utterance);
    }

    function checkActivity4() {
      const questions = document.querySelectorAll('.quiz-question');
      let allCorrect = true;
      let answered = 0;

      questions.forEach(q => {
        const selected = q.querySelector('.quiz-option.selected');
        if (selected) {
          answered++;
          const correct = selected.dataset.correct === 'true';

          q.querySelectorAll('.quiz-option').forEach(opt => {
            opt.style.pointerEvents = 'none';
            if (opt.dataset.correct === 'true') {
              opt.classList.add('correct');
            } else if (opt === selected && !correct) {
              opt.classList.add('wrong');
              allCorrect = false;
            }
          });
        }
      });

      const feedback = document.getElementById('feedback4');
      if (answered < quizData.length) {
        feedback.className = 'feedback error';
        feedback.innerHTML = currentLang === 'en'
          ? 'âŒ Please answer all questions before checking!'
          : 'âŒ è«‹å›ç­”æ‰€æœ‰å•é¡Œå†æª¢æŸ¥ï¼';
      } else if (allCorrect) {
        feedback.className = 'feedback success';
        feedback.innerHTML = currentLang === 'en'
          ? 'ğŸ‰ Perfect score! You\'re ready to handle any Q&A!'
          : 'ğŸ‰ æ»¿åˆ†ï¼ä½ å·²æº–å‚™å¥½è™•ç†ä»»ä½•å•ç­”ç’°ç¯€ï¼';
        document.getElementById('nextBtn4').disabled = false;
        triggerConfetti();
      } else {
        feedback.className = 'feedback error';
        feedback.innerHTML = currentLang === 'en'
          ? 'âŒ Some answers are incorrect. Review the correct responses!'
          : 'âŒ æœ‰äº›ç­”æ¡ˆä¸æ­£ç¢ºã€‚æª¢è¦–æ­£ç¢ºå›æ‡‰ï¼';
      }
    }

    // Activity 5: Checklist
    function initActivity5() {
      const checklist = document.getElementById('checklist');

      checklistData.forEach(item => {
        const div = document.createElement('div');
        div.className = 'checklist-item';

        const checkbox = document.createElement('input');
        checkbox.type = 'checkbox';
        checkbox.id = item.id;

        const label = document.createElement('label');
        label.htmlFor = item.id;
        label.innerHTML = `
          <span class="lang-en">${item.en}</span>
          <span class="lang-zh">${item.zh}</span>
        `;

        checkbox.addEventListener('change', () => {
          div.classList.toggle('checked', checkbox.checked);
          if (checkbox.checked) {
            triggerConfetti();
          }
          updateChecklistFeedback();
        });

        div.appendChild(checkbox);
        div.appendChild(label);
        div.addEventListener('click', (e) => {
          if (e.target !== checkbox) {
            checkbox.checked = !checkbox.checked;
            div.classList.toggle('checked', checkbox.checked);
            if (checkbox.checked) {
              triggerConfetti();
            }
            updateChecklistFeedback();
          }
        });

        checklist.appendChild(div);
      });

      document.getElementById('prevBtn5').addEventListener('click', () => showActivity(4));
      document.getElementById('completeBtn5').addEventListener('click', () => {
        completedActivities.add(5);
        updateProgressDots();
        triggerConfetti();
        setTimeout(() => {
          document.getElementById('completionModal').classList.add('active');
        }, 500);
      });
    }

    function updateChecklistFeedback() {
      const checkboxes = document.querySelectorAll('#checklist input[type="checkbox"]');
      const checked = [...checkboxes].filter(cb => cb.checked).length;
      const total = checkboxes.length;

      const feedback = document.getElementById('feedback5');
      if (checked === 0) {
        feedback.className = 'feedback';
        feedback.innerHTML = '';
      } else {
        feedback.className = 'feedback success';
        feedback.innerHTML = currentLang === 'en'
          ? `âœ… You've checked ${checked} out of ${total} skills. Keep building your confidence!`
          : `âœ… ä½ å·²å‹¾é¸äº† ${total} é …æŠ€å·§ä¸­çš„ ${checked} é …ã€‚ç¹¼çºŒå»ºç«‹ä¿¡å¿ƒï¼`;
      }
    }

    // Completion modal
    document.getElementById('homeBtn').addEventListener('click', () => {
      location.reload();
    });

    // Initialize on load
    init();
  </script>
</body>
</html>
    
  </body>
  
</html>
